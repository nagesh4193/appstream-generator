# Travis CI config for the AppStream Generator
language: d
sudo: required
dist: trusty

arch:
  - amd64
  - ppcle64

services:
  - docker

d:
  - gdc
  - ldc

matrix:
  allow_failures:
    - d: gdc

before_script:
  - docker build -t asgen -f tests/ci/Dockerfile .

script:
  - docker run -t -e DC=$DC -v `pwd`:/build asgen
    ./tests/ci/build_and_test.sh
